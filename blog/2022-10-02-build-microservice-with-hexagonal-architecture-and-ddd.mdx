---
slug: "build-microservice-with-hexagonal-architecture-and-ddd.mdx"
title:  "Build microservice with hexagonal architecture and DDD"
date:   2022-09-19 10:06:46 +0100
authors: [reda]
tags: [hexagonal architecture, ddd, microservices, clean code]
---
![author](/img/blog/build-microservice-with-hexagonal-architecture-and-ddd.png)



# Business perspective

In this pragraph, we gather the requirements from a business perspective before discussing how architectural pattern and software approach can help build a product.
> Today local grocery stores in order to buy merchandises they need to go visit large distribution companies or call them one by one to check prices, stocks and ask for delivery time.
> This process is time and effort consuming for grocery managers, the reason why we want to address this pain by building a platform where managers can consult prices and stockes, order merchandies and monitor deleveries.

## Personas and user journey
In order to build a system that address the right issues and bring a real added value, every syetems part should be built by users, the reason why we nedd to know them well,
their frustructions, motivations and expectatiions of this new product we will build.

    * Grocery manager
        * profile: generally bachelor degree
        * frustrations: run out of stock, lack of deliveries visibilty , prices comparaison is a time consuming task.
        * motivations: gain management time, focus on cuustomer relationaship and quality of service, ensure stocks always ok. 


# Architecture & Design

In the previous section we presented in a short format, the business domain and requirements, one of system's future users. At this stage we need take  architecture and design choices and/or decisions.

## Architecture style

While the brainstorming outputs are limited for this example, we can easily think about different services: Order Service, Provider Service, Delivery Service, Product Service.
Imagine we want to build all these service in parralel with different development teams mastering different stack tech. We want these services to keep decoupled from each other, so a change 
in one service's design doesn't affect others, how about **deployment** we can start deploy __Product Service__ before others to bring value ASAP, this implies that services should be deploybale indepently and scalable.
Also by organizing our product around services, we can ensure fault tolerance, imagine if the delivery servie is down, users should continue to use other service. for all these reasons we are convinced that a 
is the right architectural style to build on.

## Domain design 
The complexity of business domain and rules and the number of services (system parts) conduct us to think about DDD. So what is DDD (domain Driven Design)?

:::info

DDD, as described in the excellent book Domain-driven design by Eric Evans (Addison-Wesley Professional, 2003), is an approach for building complex software applications that is centered
on the development of an object-oriented domain model. A domain mode captures knowledge about a domain in a form that can be used to solve problems within that domain.

:::

In a traditional object-oriented design, a domain model is a colletion of classes interconnected, For example:


```mermaid
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
```

with this design, if I want to load a 
----

* [The Clean Code Blog](https://blog.cleancoder.com/)
* [Clean Code: A Handbook of Agile Software Craftsmanship by Robert C. Martin](https://www.oreilly.com/library/view/clean-code-a/9780136083238/)
* [Functional Design: Principles, Patterns, and Practices by Robert C. Martin](https://www.oreilly.com/library/view/functional-design-principles/9780138176518/)
* [10 steps to clean code](https://www.pluralsight.com/blog/software-development/10-steps-to-clean-code)
* [Kotlin coding conventions](https://kotlinlang.org/docs/coding-conventions.html)

